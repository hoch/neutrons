<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scratch Wheel</title>
    <link rel="stylesheet" href="styles.css">
    <script src="slides.js" type="module"></script>
    <script type="module">
        import {Policy} from "./modules/policy.js";
        import {readAudio} from "./modules/standard.js";
        import {Midi} from "./modules/sequencing.js";

        const context = Policy.newAudioContext();

        Promise.all([
            readAudio(context, "files/scratch/ah-yeah.ogg"),
            Midi.request(),
        ]).then(results => {
            Midi.mapAllEvents(results[1]).onPitchWheel = value => console.log(value);
        });
    </script>
</head>
<body>
<header>
    <h1>Klangwerk</h1>
    <h2>Scratch Wheel</h2>
</header>
<div style="width: 1024px; height: 512px">
    <div id="positions"></div>
    <div id="fades"></div>
</div>
</body>
</html>